---
import Button from "./Anchor.astro";
import { Image } from "astro:assets";
import logoBayerischeArchitektenkammer from "../assets/logos/bayerische-architektenkammer-logo.svg";
import logoDgnb from "../assets/logos/dgnb-logo.svg";
import logoEnergieEffizienzExperten from "../assets/logos/energie-effizienz-experten-logo.svg";
import logoLbiev from "../assets/logos/lbiev.svg";
import logoBBaukultur from "../assets/logos/bundesstiftungBaukultur.svg";
---

<div class="footer-container">
  <footer>
    <div class="flex grow flex-wrap justify-between space-x-2 lg:space-x-6">
      <div class="left-block-wrapper">
        <div class="left-block">
          <div class="address-nav">
            <section
              class="address-contact"
              aria-label="Kontakt, linkedIn and GitHub"
            >
              <div class="action">
                <h3>Sie haben weitere Fragen?</h3>
                <Button
                  text="Schreiben Sie uns eine Mail!"
                  link="mailto:mail@buildsystems.de"
                  justifyCenter={true}
                />
              </div>
              <div class="address-phrase">
                Wir freuen uns auf den Austausch mit Ihnen!
              </div>
              <div class="links">
                <address>
                  <div class="social-links">
                    <a
                      href="https://www.linkedin.com/company/build-systems-de/"
                      target="_blank"
                      aria-label="Follow BuildSystems on LinkedIn"
                    >
                      <svg class="icon">
                        <use xlink:href="/assets/icons.svg#linkedin"></use>
                      </svg>
                    </a>
                    <a
                      href="https://github.com/build-systems"
                      target="_blank"
                      aria-label="Check BuildSystems's GitHub repo"
                    >
                      <svg class="icon"
                        ><use xlink:href="/assets/icons.svg#github"></use></svg
                      >
                    </a>
                  </div>
                </address>
              </div>
              <address>
                BuildSystems GmbH<br />Furtanger 4<br />D-82205 Gilching
              </address>
            </section>
          </div>
        </div>
      </div>
      <nav>
        <a href="/"> Home</a>
        <a href="/services"> Services</a>
        <a href="/workshops"> Workshops</a>
        <a href="/about"> About</a>
        <a href="/ourwork"> Our Work</a>
        <a href="/toolbox"> Toolbox</a>
        <a href="/impressum" class="impressum">
          Impressum Datenschutzerklärung</a
        >
      </nav>
      <section
        class="flex grow flex-col justify-between"
        aria-label="Unsere Partner"
      >
        <h2>Let’s BuildSmart­Sustainable­Systems!</h2>
        <div class="flex flex-col gap-2">
          <p>Wir sind Teil von</p>
          <div
            class="flex w-full grow flex-col items-end justify-between gap-12 sm:flex-row sm:gap-4 lg:gap-8"
          >
            <a
              href="https://www.byak.de/"
              target="_blank"
              title="Bayerische Architektenkammer"
              aria-label="Link führt zu byak.de - Bayerische Architektenkammer"
              class="w-full sm:w-auto"
            >
              <Image
                src={logoBayerischeArchitektenkammer}
                class="w-56 sm:w-24 md:w-28 lg:w-36"
                alt="Bayerische Architektenkammer logo"
              />
            </a>
            <a
              href="https://www.energie-effizienz-experten.de/"
              target="_blank"
              title="Energie Effizienz Experten"
              aria-label="Link führt zu energie-effizienz-experten.de - Energie Effizienz Experten"
              class="w-full sm:w-auto"
            >
              <Image
                src={logoEnergieEffizienzExperten}
                class="w-56 sm:w-24 md:w-28 lg:w-36"
                alt="Energie Effizienz Experten logo"
              />
            </a>
            <a
              href="https://www.dgnb.de/"
              target="_blank"
              title="Deutsche Gesellschaft für Nachhaltiges Bauen"
              aria-label="Link führt zu dgnb.de - Deutsche Gesellschaft für Nachhaltiges Bauen"
              class="w-full sm:w-auto"
            >
              <Image
                class="dgnb-logo"
                src={logoDgnb}
                alt="DGNB logo"
                class="w-56 sm:w-20 md:w-24 lg:w-32"
              />
            </a>
            <a
              href="https://www.lbiev.de/"
              target="_blank"
              title="LBI Fördervereins"
              aria-label="Link führt zu lbiev.de - LBI Fördervereins"
              class="w-full sm:w-auto"
            >
              <Image
                src={logoLbiev}
                alt="LBI Fördervereins logo"
                class="w-52 sm:w-20 md:w-24 lg:w-28"
              />
            </a>
            <a
              href="https://www.bundesstiftung-baukultur.de/"
              target="_blank"
              title="Bundesstiftung Baukultur"
              aria-label="Link führt zu bundesstiftung-baukultur.de/ - Bundesstiftung Baukultur"
              class="w-full sm:w-auto"
            >
              <Image
                src={logoBBaukultur}
                alt="Bundesstiftung Baukultur logo"
                class="w-60 sm:w-36 md:w-40 lg:w-44"
              />
            </a>
          </div>
        </div>
      </section>
    </div>
  </footer>
</div>

<style>
  .footer-container {
    margin-top: 20svh;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .image-container {
    position: absolute;
    flex: 1;
    height: 100%;
    overflow: hidden;
  }

  .hero-image {
    min-height: 50%;
    object-fit: cover;
    -webkit-mask-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0),
      rgba(0, 0, 0, 1)
    );
    mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 1));
    z-index: 1;
  }

  .action {
    display: flex;
    flex-direction: column;
    width: fit-content;
    gap: 0.3rem;
    z-index: 3;
  }

  .action h3 {
    color: white;
  }

  footer {
    display: flex;
    flex: 1 0;
    width: calc(100% - 2rem);
    background: var(--background-cards);
    margin-bottom: 1rem;
    padding: 2rem 2rem;
    border-radius: 0.6rem;
    z-index: 2;
  }

  h2 {
    margin-top: 0;
    padding: 0;
  }

  h3 {
    font-size: 1.4rem;
  }

  .address-phrase {
    /* width: fit-content; */
    line-height: 1;
    text-wrap: balance;
    padding: 1rem 0;
  }

  .address-contact {
    position: relative;
    display: flex;
    flex-direction: column;
    text-align: left;
    gap: 1rem;
  }

  address {
    font-style: normal;
    vertical-align: top;
    display: flex;
    flex-direction: column;
    font-size: 1rem;
    line-height: 120%;
    gap: 0.5rem;
  }

  a {
    text-decoration: none;
    display: flex;
    margin-bottom: 0;
  }

  nav {
    /* flex: 1; */
    line-height: 120%;
    min-width: min-content;
    font-size: 1rem;
    white-space: pre-line;
    text-align: left;
    align-content: end;
  }

  .impressum {
    padding-top: 0.25rem;
    width: min-content;
  }

  .links {
    padding-bottom: 1rem;
  }

  .social-links {
    display: flex;
    gap: 0.5em;
  }

  .icon {
    width: 1rem;
    aspect-ratio: 1/1;
    fill: var(--text-secondary);
  }

  .unsere-partner {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .left-block-wrapper {
    display: flex;
  }
  .left-block {
    display: flex;
    width: 100%;
    flex-direction: column;
  }

  .address-nav {
    display: flex;
    justify-content: space-between;
  }

  @media (max-width: 1024px) {
    .logos-container {
      column-gap: clamp(0.5rem, 2%, 4rem);
      row-gap: clamp(0.5rem, 5%, 4rem);
    }
  }

  @media (max-width: 640px) {
    .footer-container {
      margin-top: 10svh;
    }

    footer {
      width: calc(100% - (var(--left-padding-mobile) * 2));
      margin-bottom: var(--left-padding-mobile);
    }

    .logos-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
      row-gap: 3rem;
    }
    .partner-logo {
      width: auto;
      min-width: auto;
      flex: 0 1 150px;
    }
  }

  @media (max-width: 420px) {
    .logos-container {
      justify-content: start;
      row-gap: 2rem;
    }
  }
</style>
